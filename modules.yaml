# List of all modules in this repo with settings needed by various `ci_scripts`.
# Note: Stripe3DS2 should not be included in this list.
#
# - podspec (required):
#   The podspec file for this module.
#
# - scheme (required):
#   The Xcode scheme name for this module. This is used to build and export the
#   module by `export_builds.rb`.
#
# - framework_name (required):
#   The name of the `.xcframework` file that's exported by `export_builds.rb`.
#   This should match the name of the module.
#
# - supports_catalyst (required):
#   Whether the framework supports macOS Catalyst.
#
# - localization_dir (optional):
#   The source directory to check for localized strings and where a
#   `Resources/Localizations` directory will be generated.
#   If omitted, localization will not be performed on this module.
#
#   After adding a module's `localization_dir`, run
#   `./ci_scripts/create_localizable_strings_files.sh` to create the directory
#   structure and drag the resulting `Resources` folder into the project.
#
# - custom_string_convertible_dir (optional):
#   The source directory to write the autogenerated CustomStringConvertible
#   conformance file for Objective-C enums.
#   If omitted, the file will not be generated for this module.
#
#   After adding a module's `custom_string_convertible_dir`, run
#   `ruby ./ci_scripts/generate_objc_enum_string_values.rb` and add the
#   Enums+CustomStringConvertible.swift file to the module's project
#   file.
#
# - size_report (optional):
#   If present, a size report will be generated for this module and all of its
#   dependencies.
#
#   - max_compressed_size (optional):
#     The maximum allowable compressed size, in kilobytes (kb), before alerting
#     in CI.
#
#   - max_uncompressed_size (optional):
#     The maximum allowable uncompressed size, in kilobytes (kb), before alerting
#     in CI.
#
#   - max_incremental_uncompressed_size (optional):
#     The maximum allowable kilobytes (kb) that a single PR can add to this SDK
#     before alerting in CI.
#
# - docs (optional):
#   Configurations used by `build_documentation.rb` to generate docs.
#   If omitted, docs will not be generated for this module.
#
#   - output (required):
#     The output directory for generated docs.
#
#   - readme (optional):
#     The path to a markdown README file that will be embedded in the index page
#     of the docs for this module. Used as the `--readme` argument to Jazzy.
#     If omitted, uses Jazzy default (the root directory's README.md file).
#
#   - include (optional):
#     An array of modules to be combined with this module, for the purpose of documentation.
#
# TODO(mludowise): Update localization, export_builds, & pod_tools scripts to use modules.yaml
#
modules:
- podspec: Stripe.podspec
  scheme: StripeiOS
  framework_name: Stripe
  localization_dir: Stripe
  custom_string_convertible_dir: Stripe
  supports_catalyst: true
  size_report:
    max_incremental_uncompressed_size: 100
  docs:
    output: docs/docs
    readme: README.md
    include:
      - StripeCore
      - StripeApplePay

- podspec: StripeCameraCore.podspec
  scheme: StripeCameraCore
  framework_name: StripeCameraCore
  supports_catalyst: false

- podspec: StripeCore.podspec
  scheme: StripeCore
  framework_name: StripeCore
  localization_dir: StripeCore/StripeCore
  custom_string_convertible_dir: StripeCore/StripeCore/Source/Categories
  supports_catalyst: true

- podspec: StripeIdentity.podspec
  scheme: StripeIdentity
  framework_name: StripeIdentity
  localization_dir: StripeIdentity/StripeIdentity
  custom_string_convertible_dir: StripeIdentity/StripeIdentity/Source
  supports_catalyst: false
  size_report:
    max_compressed_size: 1000
    max_uncompressed_size: 2500
    max_incremental_uncompressed_size: 100
  docs:
    output: docs/stripe-identity
    readme: StripeIdentity/README.md

- podspec: StripeApplePay.podspec
  scheme: StripeApplePay
  framework_name: StripeApplePay
  supports_catalyst: true
  docs:
    output: docs/stripe-applepay
    readme: StripeApplePay/README.md
  size_report:
    max_compressed_size: 500
    max_uncompressed_size: 1000
    max_incremental_uncompressed_size: 100

- podspec: StripeCardScan.podspec
  scheme: StripeCardScan
  framework_name: StripeCardScan
  supports_catalyst: false
  localization_dir: StripeCardScan/StripeCardScan

- podspec: StripeConnections.podspec
  scheme: StripeConnections
  framework_name: StripeConnections
  localization_dir: StripeConnections/StripeConnections

- podspec: StripeUICore.podspec
  scheme: StripeUICore
  framework_name: StripeUICore
  localization_dir: StripeUICore/StripeUICore
  custom_string_convertible_dir: StripeUICore/StripeUICore/Source/Categories
  supports_catalyst: true

# All podspecs that get pushed to Cocoapods in the order of dependencies such
# that a pods dependencies must appear before it in the list.
# This is the order that podspecs will be pushed to `pod trunk`.
pod_push_order:
- StripeCore.podspec
- StripeUICore.podspec
- StripeCameraCore.podspec
- StripeApplePay.podspec
- Stripe.podspec
- StripeIdentity.podspec
- StripeCardScan.podspec
- StripeConnections.podspec
