{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"attribute","text":"@objc"},{"kind":"text","text":" "},{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"STPPaymentContextDelegate"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"NSObjectProtocol","preciseIdentifier":"c:objc(pl)NSObject"}],"languages":["swift"],"platforms":["iOS"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/stripe\/stppaymentcontextdelegate"],"traits":[{"interfaceLanguage":"swift"}]},{"paths":["\/documentation\/stripe\/stppaymentcontextdelegate"],"traits":[{"interfaceLanguage":"occ"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/com.stripe.stripe-ios\/objc(pl)NSObject"],"kind":"relationships","title":"Inherits From","type":"inheritsFrom"}],"identifier":{"url":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Implement "},{"type":"codeVoice","code":"STPPaymentContextDelegate"},{"type":"text","text":" to get notified when a payment context changes, finishes, encounters errors, etc. In practice, if your app has a “checkout screen view controller”, that is a good candidate to implement this protocol."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"STPPaymentContextDelegate"}],"title":"STPPaymentContextDelegate","roleHeading":"Protocol","role":"symbol","symbolKind":"protocol","externalID":"c:@M@Stripe@objc(pl)STPPaymentContextDelegate","modules":[{"name":"Stripe"}],"navigatorTitle":[{"kind":"identifier","text":"STPPaymentContextDelegate"}]},"hierarchy":{"paths":[["doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe"]]},"topicSections":[{"title":"Instance Methods","identifiers":["doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didCreatePaymentResult:completion:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFailToLoadWithError:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFinishWith:error:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didUpdateShippingAddress:completion:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContextDidChange(_:)"]}],"references":{"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContext(_:didCreatePaymentResult:completion:)":{"navigatorTitle":[{"kind":"identifier","text":"paymentContext:didCreatePaymentResult:completion:"}],"role":"symbol","title":"paymentContext(_:didCreatePaymentResult:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentContext"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"STPPaymentContext","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext"},{"kind":"text","text":", "},{"kind":"externalParam","text":"didCreatePaymentResult"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"STPPaymentResult","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentResult"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"STPPaymentStatusBlock","preciseIdentifier":"s:14StripePayments21STPPaymentStatusBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Inside this method, you should make a call to your backend API to make a PaymentIntent with that Customer + payment method, and invoke the "},{"type":"codeVoice","code":"completion"},{"type":"text","text":" block when that is done."}],"identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didCreatePaymentResult:completion:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontext(_:didcreatepaymentresult:completion:)"},"doc://com.stripe.stripe-ios/documentation/Stripe":{"role":"collection","title":"Stripe","abstract":[],"identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe","kind":"symbol","type":"topic","url":"\/documentation\/stripe"},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContextDidChange(_:)":{"navigatorTitle":[{"kind":"identifier","text":"paymentContextDidChange:"}],"role":"symbol","title":"paymentContextDidChange(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentContextDidChange"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"STPPaymentContext","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"This is called every time the contents of the payment context change. When this is called, you should update your app’s UI to reflect the current state of the payment context. For example, if you have a checkout page with a “selected payment method” row, you should update its payment method with "},{"type":"codeVoice","code":"paymentContext.selectedPaymentOption.label"},{"type":"text","text":". If that checkout page has a “buy” button, you should enable\/disable it depending on the result of "},{"type":"codeVoice","code":"paymentContext.isReadyForPayment"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContextDidChange(_:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontextdidchange(_:)"},"doc://com.stripe.stripe-ios/objc(pl)NSObject":{"type":"unresolvable","title":"NSObject","identifier":"doc:\/\/com.stripe.stripe-ios\/objc(pl)NSObject"},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate":{"role":"symbol","title":"STPPaymentContextDelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"STPPaymentContextDelegate"}],"abstract":[{"type":"text","text":"Implement "},{"type":"codeVoice","code":"STPPaymentContextDelegate"},{"type":"text","text":" to get notified when a payment context changes, finishes, encounters errors, etc. In practice, if your app has a “checkout screen view controller”, that is a good candidate to implement this protocol."}],"identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"STPPaymentContextDelegate"}],"url":"\/documentation\/stripe\/stppaymentcontextdelegate"},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContext(_:didUpdateShippingAddress:completion:)":{"navigatorTitle":[{"kind":"identifier","text":"paymentContext:didUpdateShippingAddress:completion:"}],"role":"symbol","title":"paymentContext(_:didUpdateShippingAddress:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentContext"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"STPPaymentContext","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext"},{"kind":"text","text":", "},{"kind":"externalParam","text":"didUpdateShippingAddress"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"STPAddress","preciseIdentifier":"c:@M@StripePayments@objc(cs)STPAddress"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"STPShippingMethodsCompletionBlock","preciseIdentifier":"s:6Stripe33STPShippingMethodsCompletionBlocka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Inside this method, you should verify that you can ship to the given address."},{"type":"text","text":" "},{"type":"text","text":"You should call the completion block with the results of your validation"},{"type":"text","text":" "},{"type":"text","text":"and the available shipping methods for the given address. If you don’t implement"},{"type":"text","text":" "},{"type":"text","text":"this method, the user won’t be prompted to select a shipping method and all"},{"type":"text","text":" "},{"type":"text","text":"addresses will be valid. If you call the completion block with nil or an"},{"type":"text","text":" "},{"type":"text","text":"empty array of shipping methods, the user won’t be prompted to select a"},{"type":"text","text":" "},{"type":"text","text":"shipping method."}],"identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didUpdateShippingAddress:completion:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontext(_:didupdateshippingaddress:completion:)"},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContext(_:didFinishWith:error:)":{"navigatorTitle":[{"kind":"identifier","text":"paymentContext:didFinishWith:error:"}],"role":"symbol","title":"paymentContext(_:didFinishWith:error:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentContext"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"STPPaymentContext","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext"},{"kind":"text","text":", "},{"kind":"externalParam","text":"didFinishWith"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"STPPaymentStatus","preciseIdentifier":"c:@M@StripePayments@E@STPPaymentStatus"},{"kind":"text","text":", "},{"kind":"externalParam","text":"error"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?)"}],"abstract":[{"type":"text","text":"This is invoked by an "},{"type":"codeVoice","code":"STPPaymentContext"},{"type":"text","text":" when it is finished. This will be called after the payment is done and all necessary UI has been dismissed. You should inspect the returned "},{"type":"codeVoice","code":"status"},{"type":"text","text":" and behave appropriately. For example: if it’s "},{"type":"codeVoice","code":"STPPaymentStatusSuccess"},{"type":"text","text":", show the user a receipt. If it’s "},{"type":"codeVoice","code":"STPPaymentStatusError"},{"type":"text","text":", inform the user of the error. If it’s "},{"type":"codeVoice","code":"STPPaymentStatusUserCancellation"},{"type":"text","text":", do nothing."}],"identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFinishWith:error:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontext(_:didfinishwith:error:)"},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContext(_:didFailToLoadWithError:)":{"navigatorTitle":[{"kind":"identifier","text":"paymentContext:didFailToLoadWithError:"}],"role":"symbol","title":"paymentContext(_:didFailToLoadWithError:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentContext"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"STPPaymentContext","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext"},{"kind":"text","text":", "},{"kind":"externalParam","text":"didFailToLoadWithError"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Called when the payment context encounters an error when fetching its initial set of data. A few ways to handle this are:"}],"identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFailToLoadWithError:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontext(_:didfailtoloadwitherror:)"}},"variantOverrides":[{"patch":[{"op":"replace","path":"\/identifier\/interfaceLanguage","value":"occ"},{"op":"replace","path":"\/metadata\/roleHeading","value":"Protocol"},{"op":"replace","path":"\/metadata\/title","value":"STPPaymentContextDelegate"},{"op":"replace","path":"\/metadata\/symbolKind","value":"protocol"},{"op":"replace","path":"\/metadata\/fragments","value":[{"kind":"identifier","text":"STPPaymentContextDelegate"}]},{"op":"replace","path":"\/metadata\/navigatorTitle","value":[{"kind":"identifier","text":"STPPaymentContextDelegate"}]},{"op":"replace","path":"\/topicSections","value":[{"title":"Instance Methods","identifiers":["doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didCreatePaymentResult:completion:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFailToLoadWithError:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFinishWith:error:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didUpdateShippingAddress:completion:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContextDidChange(_:)"]}]},{"op":"replace","path":"\/relationshipsSections","value":[{"identifiers":["doc:\/\/com.stripe.stripe-ios\/objc(pl)NSObject"],"kind":"relationships","title":"Inherits From","type":"inheritsFrom"}]},{"op":"add","path":"\/seeAlsoSections","value":null},{"op":"replace","path":"\/primaryContentSections\/0","value":{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"@protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"STPPaymentContextDelegate"},{"kind":"text","text":" <"},{"kind":"typeIdentifier","text":"NSObject","preciseIdentifier":"c:objc(pl)NSObject"},{"kind":"text","text":">"}],"languages":["occ"],"platforms":["iOS"]}]}},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didCreatePaymentResult:completion:)\/title","value":"paymentContext:didCreatePaymentResult:completion:"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didCreatePaymentResult:completion:)\/fragments","value":[{"kind":"text","text":"- "},{"kind":"identifier","text":"paymentContext:didCreatePaymentResult:completion:"}]},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContextDidChange(_:)\/title","value":"paymentContextDidChange:"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContextDidChange(_:)\/fragments","value":[{"kind":"text","text":"- "},{"kind":"identifier","text":"paymentContextDidChange:"}]},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate\/title","value":"STPPaymentContextDelegate"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate\/fragments","value":[{"kind":"identifier","text":"STPPaymentContextDelegate"}]},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didUpdateShippingAddress:completion:)\/title","value":"paymentContext:didUpdateShippingAddress:completion:"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didUpdateShippingAddress:completion:)\/fragments","value":[{"kind":"text","text":"- "},{"kind":"identifier","text":"paymentContext:didUpdateShippingAddress:completion:"}]},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didFinishWith:error:)\/title","value":"paymentContext:didFinishWith:error:"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didFinishWith:error:)\/fragments","value":[{"kind":"text","text":"- "},{"kind":"identifier","text":"paymentContext:didFinishWith:error:"}]},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didFailToLoadWithError:)\/title","value":"paymentContext:didFailToLoadWithError:"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didFailToLoadWithError:)\/fragments","value":[{"kind":"text","text":"- "},{"kind":"identifier","text":"paymentContext:didFailToLoadWithError:"}]}],"traits":[{"interfaceLanguage":"occ"}]}]}
