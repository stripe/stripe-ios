{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"attribute","text":"@objc"},{"text":" ","kind":"text"},{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"text":"STPPaymentContextDelegate","kind":"identifier"},{"kind":"text","text":" : "},{"text":"NSObjectProtocol","preciseIdentifier":"c:objc(pl)NSObject","kind":"typeIdentifier"}],"languages":["swift"],"platforms":["iOS"]}]}],"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/stripe\/stppaymentcontextdelegate"]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/stripe\/stppaymentcontextdelegate"]}],"hierarchy":{"paths":[["doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe"]]},"schemaVersion":{"minor":3,"patch":0,"major":0},"identifier":{"url":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate","interfaceLanguage":"swift"},"metadata":{"role":"symbol","externalID":"c:@M@Stripe@objc(pl)STPPaymentContextDelegate","title":"STPPaymentContextDelegate","symbolKind":"protocol","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"text":"STPPaymentContextDelegate","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"STPPaymentContextDelegate"}],"modules":[{"name":"Stripe"}],"roleHeading":"Protocol"},"sections":[],"abstract":[{"text":"Implement ","type":"text"},{"code":"STPPaymentContextDelegate","type":"codeVoice"},{"type":"text","text":" to get notified when a payment context changes, finishes, encounters errors, etc. In practice, if your app has a “checkout screen view controller”, that is a good candidate to implement this protocol."}],"relationshipsSections":[{"kind":"relationships","title":"Inherits From","identifiers":["doc:\/\/com.stripe.stripe-ios\/objc(pl)NSObject"],"type":"inheritsFrom"}],"topicSections":[{"title":"Instance Methods","identifiers":["doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didCreatePaymentResult:completion:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFailToLoadWithError:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFinishWith:error:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didUpdateShippingAddress:completion:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContextDidChange(_:)"]}],"references":{"doc://com.stripe.stripe-ios/documentation/Stripe":{"kind":"symbol","abstract":[],"title":"Stripe","url":"\/documentation\/stripe","role":"collection","identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe","type":"topic"},"doc://com.stripe.stripe-ios/objc(pl)NSObject":{"identifier":"doc:\/\/com.stripe.stripe-ios\/objc(pl)NSObject","title":"NSObject","type":"unresolvable"},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContextDidChange(_:)":{"type":"topic","kind":"symbol","required":true,"url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontextdidchange(_:)","title":"paymentContextDidChange(_:)","identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContextDidChange(_:)","abstract":[{"text":"This is called every time the contents of the payment context change. When this is called, you should update your app’s UI to reflect the current state of the payment context. For example, if you have a checkout page with a “selected payment method” row, you should update its payment method with ","type":"text"},{"code":"paymentContext.selectedPaymentOption.label","type":"codeVoice"},{"type":"text","text":". If that checkout page has a “buy” button, you should enable\/disable it depending on the result of "},{"type":"codeVoice","code":"paymentContext.isReadyForPayment"},{"type":"text","text":"."}],"role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentContextDidChange"},{"kind":"text","text":"("},{"preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext","text":"STPPaymentContext","kind":"typeIdentifier"},{"text":")","kind":"text"}],"navigatorTitle":[{"text":"paymentContextDidChange:","kind":"identifier"}]},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate":{"url":"\/documentation\/stripe\/stppaymentcontextdelegate","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"STPPaymentContextDelegate","kind":"identifier"}],"abstract":[{"text":"Implement ","type":"text"},{"type":"codeVoice","code":"STPPaymentContextDelegate"},{"type":"text","text":" to get notified when a payment context changes, finishes, encounters errors, etc. In practice, if your app has a “checkout screen view controller”, that is a good candidate to implement this protocol."}],"type":"topic","kind":"symbol","title":"STPPaymentContextDelegate","identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"STPPaymentContextDelegate"}]},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContext(_:didCreatePaymentResult:completion:)":{"url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontext(_:didcreatepaymentresult:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"paymentContext","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext","text":"STPPaymentContext"},{"text":", ","kind":"text"},{"text":"didCreatePaymentResult","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"STPPaymentResult","kind":"typeIdentifier","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentResult"},{"kind":"text","text":", "},{"text":"completion","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"STPPaymentStatusBlock","kind":"typeIdentifier","preciseIdentifier":"s:14StripePayments21STPPaymentStatusBlocka"},{"text":")","kind":"text"}],"abstract":[{"text":"Inside this method, you should make a call to your backend API to make a PaymentIntent with that Customer + payment method, and invoke the ","type":"text"},{"code":"completion","type":"codeVoice"},{"type":"text","text":" block when that is done."}],"type":"topic","identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didCreatePaymentResult:completion:)","kind":"symbol","title":"paymentContext(_:didCreatePaymentResult:completion:)","required":true,"navigatorTitle":[{"text":"paymentContext:didCreatePaymentResult:completion:","kind":"identifier"}],"role":"symbol"},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContext(_:didUpdateShippingAddress:completion:)":{"role":"symbol","url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontext(_:didupdateshippingaddress:completion:)","identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didUpdateShippingAddress:completion:)","title":"paymentContext(_:didUpdateShippingAddress:completion:)","required":true,"type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"paymentContext","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","text":"STPPaymentContext","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext"},{"text":", ","kind":"text"},{"text":"didUpdateShippingAddress","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"c:@M@StripePayments@objc(cs)STPAddress","kind":"typeIdentifier","text":"STPAddress"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"STPShippingMethodsCompletionBlock","preciseIdentifier":"s:6Stripe33STPShippingMethodsCompletionBlocka"},{"text":")","kind":"text"}],"kind":"symbol","abstract":[{"text":"Inside this method, you should verify that you can ship to the given address.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"You should call the completion block with the results of your validation"},{"type":"text","text":" "},{"type":"text","text":"and the available shipping methods for the given address. If you don’t implement"},{"text":" ","type":"text"},{"type":"text","text":"this method, the user won’t be prompted to select a shipping method and all"},{"type":"text","text":" "},{"type":"text","text":"addresses will be valid. If you call the completion block with nil or an"},{"type":"text","text":" "},{"type":"text","text":"empty array of shipping methods, the user won’t be prompted to select a"},{"type":"text","text":" "},{"type":"text","text":"shipping method."}],"navigatorTitle":[{"kind":"identifier","text":"paymentContext:didUpdateShippingAddress:completion:"}]},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContext(_:didFailToLoadWithError:)":{"role":"symbol","url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontext(_:didfailtoloadwitherror:)","identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFailToLoadWithError:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"paymentContext","kind":"identifier"},{"text":"(","kind":"text"},{"text":"STPPaymentContext","kind":"typeIdentifier","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"didFailToLoadWithError"},{"kind":"text","text":": "},{"text":"Error","preciseIdentifier":"s:s5ErrorP","kind":"typeIdentifier"},{"kind":"text","text":")"}],"navigatorTitle":[{"kind":"identifier","text":"paymentContext:didFailToLoadWithError:"}],"type":"topic","abstract":[{"type":"text","text":"Called when the payment context encounters an error when fetching its initial set of data. A few ways to handle this are:"}],"title":"paymentContext(_:didFailToLoadWithError:)","required":true,"kind":"symbol"},"doc://com.stripe.stripe-ios/documentation/Stripe/STPPaymentContextDelegate/paymentContext(_:didFinishWith:error:)":{"kind":"symbol","role":"symbol","navigatorTitle":[{"text":"paymentContext:didFinishWith:error:","kind":"identifier"}],"abstract":[{"text":"This is invoked by an ","type":"text"},{"type":"codeVoice","code":"STPPaymentContext"},{"type":"text","text":" when it is finished. This will be called after the payment is done and all necessary UI has been dismissed. You should inspect the returned "},{"code":"status","type":"codeVoice"},{"text":" and behave appropriately. For example: if it’s ","type":"text"},{"code":"STPPaymentStatusSuccess","type":"codeVoice"},{"type":"text","text":", show the user a receipt. If it’s "},{"code":"STPPaymentStatusError","type":"codeVoice"},{"type":"text","text":", inform the user of the error. If it’s "},{"code":"STPPaymentStatusUserCancellation","type":"codeVoice"},{"type":"text","text":", do nothing."}],"type":"topic","required":true,"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"paymentContext","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@M@Stripe@objc(cs)STPPaymentContext","text":"STPPaymentContext"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"didFinishWith"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@M@StripePayments@E@STPPaymentStatus","text":"STPPaymentStatus","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"error"},{"text":": ","kind":"text"},{"text":"Error","kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP"},{"text":"?)","kind":"text"}],"identifier":"doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFinishWith:error:)","title":"paymentContext(_:didFinishWith:error:)","url":"\/documentation\/stripe\/stppaymentcontextdelegate\/paymentcontext(_:didfinishwith:error:)"}},"variantOverrides":[{"patch":[{"value":"occ","op":"replace","path":"\/identifier\/interfaceLanguage"},{"op":"replace","value":"Protocol","path":"\/metadata\/roleHeading"},{"value":"STPPaymentContextDelegate","path":"\/metadata\/title","op":"replace"},{"path":"\/metadata\/symbolKind","op":"replace","value":"protocol"},{"value":[{"kind":"identifier","text":"STPPaymentContextDelegate"}],"op":"replace","path":"\/metadata\/fragments"},{"value":[{"kind":"identifier","text":"STPPaymentContextDelegate"}],"op":"replace","path":"\/metadata\/navigatorTitle"},{"path":"\/topicSections","value":[{"identifiers":["doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didCreatePaymentResult:completion:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFailToLoadWithError:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didFinishWith:error:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContext(_:didUpdateShippingAddress:completion:)","doc:\/\/com.stripe.stripe-ios\/documentation\/Stripe\/STPPaymentContextDelegate\/paymentContextDidChange(_:)"],"title":"Instance Methods"}],"op":"replace"},{"path":"\/relationshipsSections","op":"replace","value":[{"type":"inheritsFrom","kind":"relationships","title":"Inherits From","identifiers":["doc:\/\/com.stripe.stripe-ios\/objc(pl)NSObject"]}]},{"op":"add","path":"\/seeAlsoSections","value":null},{"path":"\/primaryContentSections\/0","value":{"declarations":[{"tokens":[{"kind":"keyword","text":"@protocol"},{"text":" ","kind":"text"},{"kind":"identifier","text":"STPPaymentContextDelegate"},{"kind":"text","text":" <"},{"preciseIdentifier":"c:objc(pl)NSObject","text":"NSObject","kind":"typeIdentifier"},{"text":">","kind":"text"}],"platforms":["iOS"],"languages":["occ"]}],"kind":"declarations"},"op":"replace"},{"path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContextDidChange(_:)\/title","value":"paymentContextDidChange:","op":"replace"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContextDidChange(_:)\/fragments","value":[{"text":"- ","kind":"text"},{"kind":"identifier","text":"paymentContextDidChange:"}]},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate\/title","value":"STPPaymentContextDelegate"},{"path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate\/fragments","value":[{"kind":"identifier","text":"STPPaymentContextDelegate"}],"op":"replace"},{"op":"replace","value":"paymentContext:didCreatePaymentResult:completion:","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didCreatePaymentResult:completion:)\/title"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didCreatePaymentResult:completion:)\/fragments","value":[{"text":"- ","kind":"text"},{"kind":"identifier","text":"paymentContext:didCreatePaymentResult:completion:"}]},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didUpdateShippingAddress:completion:)\/title","value":"paymentContext:didUpdateShippingAddress:completion:"},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didUpdateShippingAddress:completion:)\/fragments","value":[{"text":"- ","kind":"text"},{"text":"paymentContext:didUpdateShippingAddress:completion:","kind":"identifier"}]},{"op":"replace","path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didFailToLoadWithError:)\/title","value":"paymentContext:didFailToLoadWithError:"},{"path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didFailToLoadWithError:)\/fragments","value":[{"kind":"text","text":"- "},{"text":"paymentContext:didFailToLoadWithError:","kind":"identifier"}],"op":"replace"},{"path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didFinishWith:error:)\/title","value":"paymentContext:didFinishWith:error:","op":"replace"},{"op":"replace","value":[{"kind":"text","text":"- "},{"text":"paymentContext:didFinishWith:error:","kind":"identifier"}],"path":"\/references\/doc:~1~1com.stripe.stripe-ios~1documentation~1Stripe~1STPPaymentContextDelegate~1paymentContext(_:didFinishWith:error:)\/fragments"}],"traits":[{"interfaceLanguage":"occ"}]}]}
